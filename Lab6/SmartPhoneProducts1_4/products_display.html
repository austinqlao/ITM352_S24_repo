<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Smart Phone Store</title>
    <link id='xxx' href="products_display.html" rel="stylesheet">


    <link href="https://fonts.googleapis.com/css?family=Silkscreen|Gaegu" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <style id='localStyle'></style>

    <script>
        const store_name = "Austin Lao";
        hits_span.innerHTML = hits; 
        spins_span.innerHTML = spins;
    </script>

    <script>
        const first_name = "Austin";
        const last_name = "Lao";
        let formatted_name = "<span style='font-size: 80px; font-weight: bold;'>" + first_name + "</span> <span style='font-size: 80px; font-style: italic;'>" + last_name + "'s" + "</span>";
    </script>
</head>

<body onload="hits_span.innerHTML = hits; spins_span.innerHTML = spins;">
    
    <header>
        <h1>
            <script>
                document.write(formatted_name + " Used Smart Phone Store");
            </script> 
        </h1>    

        
        <p style="text-align: center; font-weight: bold;">
            Hits:<span id="hits_span">0</span>
            Spins:<span id="spins_span">0</span>
            Hit/Spin:<span id="hit_spin_span">0</span>
            You win:<span id="win_span">pending...</span>
        </p>
        
    </header>

    <div>
        <aside>

            <div style="font-size:4rem;text-align:center;font-weight: bold;font-style: italic; color: white">
                We sell from around the globe!
            </div>

            <div>
                <input id="speedSlider" type="range" min=".1" max="5" step=".1" onchange=" localStyle.innerHTML = '.rotate img {animation-duration: ' + speedSlider.value + 's;}';" style="direction: rtl;" />
            </div>

        </aside>

        <main>
             <section class="item"
              onmouseover="
                if(!this.className.includes('rotate'))
                this.className='item rotate'; 
                spins_span.innerHTML = ++spins; 
                // -- Winning progress depends on hits/spins
            let hits_spins_ratio = hits/spins;
            if ( hits_spins_ratio > 0 ) {
	            progress = 'On your way!';
	            if ( hits_spins_ratio >= 0.25 ) {
    	            progress = 'Almost there!';
    	            if ( hits_spins_ratio >= 0.5 ) {
                        if( hits < spins) { 
        	                progress = 'You win!';
                        }
                	}
	            }
            }
            else {
	            progress = 'Get going!' ;
            }
                win_span.innerHTML = over_half;
             hit_spin_span.innerHTML=(hits/spins).toFixed(2);" 

            
             
             onclick="
                this.className='item'; 
                hits_span.innerHTML = ++hits; 
                {
                    else this.className='item rotate';
                }
                // -- Winning progress depends on hits/spins
            let hits_spins_ratio = hits/spins;
            if ( hits_spins_ratio > 0 ) {
	            progress = 'On your way!';
	            if ( hits_spins_ratio >= 0.25 ) {
    	            progress = 'Almost there!';
    	            if ( hits_spins_ratio >= 0.5 ) {
                        if( hits < spins) { 
        	                progress = 'You win!';
                        }
                	}
	            }
            }
            else {
	            progress = 'Get going!' ;
            }
                win_span.innerHTML = over_half;
             hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                <h2>HTC</h2>
                <p>$40.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/HTC.jpg" alt="HTC Phones">
            </section>

             <section class="item" onmouseover="this.className='item rotate'; spins_span.innerHTML = ++spins; hit_spin_span.innerHTML=(hits/spins).toFixed(2);" onclick="this.className='item'; hits_span.innerHTML = ++hits; hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                <h2>Apple</h2>
                <p>$75.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/iphone-3gs.jpg">
            </section>

             <section class="item" onmouseover="this.className='item rotate'; spins_span.innerHTML = ++spins; hit_spin_span.innerHTML=(hits/spins).toFixed(2);" onclick="this.className='item'; hits_span.innerHTML = ++hits; hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                <h2>Nokia</h2>
                <p>$35.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Nokia.jpg">
            </section>

             <section class="item" onmouseover="this.className='item rotate'; spins_span.innerHTML = ++spins; hit_spin_span.innerHTML=(hits/spins).toFixed(2);" onclick="this.className='item'; hits_span.innerHTML = ++hits; hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                <h2>Samsung</h2>
                <p>$45.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Samsung.jpg">
            </section>

             <section class="item" onmouseover="this.className='item rotate'; spins_span.innerHTML = ++spins; hit_spin_span.innerHTML=(hits/spins).toFixed(2);" onclick="this.className='item'; hits_span.innerHTML = ++hits; hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                <h2>Blackberry</h2>
                <p>$10.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Blackberry.jpg">
            </section>
            
           <script>
                let hits = 0;
                let spins = 0;
                let over_half = false;

                hits_span.innerHTML = hits; 
                spins_span.innerHTML = spins;
           </script>
            
        </main>
    </div>

</body>

<footer>
    <h1>
        <table border="1" style="margin-left: auto; margin-right: auto; text-align: center;">
            <script>
                var now = new Date();
                let currentYear = now.getFullYear();

                let hours = now.getHours();
                let minutes = now.getMinutes();
                let period = (hours < 12) ? 'AM' : 'PM';
                hours = (hours + 11) % 12 + 1;
                minutes = (minutes < 10 ? '0' : '') + minutes;

                document.write(`
                <tr><th colspan="2"><h1>Your One Stop For Used Phones - ${first_name[0]}.${last_name[0]}.'s</h1></th></tr>
                <tr><td>1.</td><td><br />Copyright @ ${first_name} ${last_name}</td></tr>
                <tr><td>2.</td><td>${currentYear}</td></tr>
                <tr><td>3.</td><td>${hours}:${minutes} ${period}</td></tr>
                `)
            </script>
    
        </table>
     </h1>

</footer>

</html>
